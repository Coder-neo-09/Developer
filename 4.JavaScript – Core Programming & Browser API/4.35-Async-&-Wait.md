# â³ JavaScript `async` & `await`

---

## ğŸ“– Definition

* `async` and `await` are **syntactic sugar** built on top of **Promises**.
* They make asynchronous code look and behave like **synchronous code**, improving **readability and maintainability**.

---

## ğŸ” Key Points

| Keyword        | Description                                                                                    |
| -------------- | ---------------------------------------------------------------------------------------------- |
| **`async`**    | Declares a function that always returns a **Promise**.                                         |
| **`await`**    | Pauses execution inside an `async` function until the Promise is settled (fulfilled/rejected). |
| Error Handling | Works with `try...catch`.                                                                      |

---

## ğŸ§± 1. Async Function

```javascript
async function greet() {
  return "Hello! ğŸ‘‹";
}

greet().then(msg => console.log(msg)); // "Hello! ğŸ‘‹"
```

âœ… `async` automatically wraps the return value into a **Promise**.

---

## ğŸ§± 2. Using `await`

```javascript
function delay(ms) {
  return new Promise(resolve => setTimeout(resolve, ms));
}

async function run() {
  console.log("â³ Waiting...");
  await delay(2000); // pauses for 2s
  console.log("âœ… Done after 2 seconds!");
}

run();
```

---

## ğŸ§± 3. Async + Await with Fetch

```javascript
async function getUser() {
  let response = await fetch("https://jsonplaceholder.typicode.com/users/1");
  let user = await response.json();
  console.log("ğŸ‘¤ User:", user.name);
}

getUser();
```

âœ… Much cleaner than **promise chaining**.

---

## ğŸ§± 4. Error Handling with `try...catch`

```javascript
async function fetchData() {
  try {
    let response = await fetch("https://invalid-url.com");
    let data = await response.json();
    console.log(data);
  } catch (error) {
    console.log("âŒ Error caught:", error.message);
  }
}

fetchData();
```

---

## ğŸ§± 5. Running Multiple Promises

```javascript
async function loadData() {
  let [posts, users] = await Promise.all([
    fetch("https://jsonplaceholder.typicode.com/posts/1").then(res => res.json()),
    fetch("https://jsonplaceholder.typicode.com/users/1").then(res => res.json())
  ]);

  console.log("ğŸ“ Post:", posts.title);
  console.log("ğŸ‘¤ User:", users.name);
}

loadData();
```

âœ… Runs both requests **in parallel**, not one after the other.

---

## ğŸŒ Real-World Example â€“ Login Simulation

```javascript
function login(username, password) {
  return new Promise((resolve, reject) => {
    setTimeout(() => {
      if (username === "ramya" && password === "1234") {
        resolve("Welcome " + username + " ğŸ‰");
      } else {
        reject("Invalid credentials âŒ");
      }
    }, 1500);
  });
}

async function authenticate() {
  try {
    console.log("ğŸ”‘ Logging in...");
    let msg = await login("ramya", "1234");
    console.log(msg);
  } catch (error) {
    console.log(error);
  }
}

authenticate();
```

âœ… Output:

```
ğŸ”‘ Logging in...
Welcome ramya ğŸ‰
```

---

## âœ… Summary Table

| Concept                  | Description                                    |
| ------------------------ | ---------------------------------------------- |
| `async function`         | Returns a **Promise** automatically.           |
| `await promise`          | Waits until the promise resolves/rejects.      |
| Error handling           | Use `try...catch`.                             |
| `Promise.all` with await | Run tasks in parallel.                         |
| Cleaner than `.then()`   | Looks synchronous but is async under the hood. |

---

## ğŸ§  Best Practices

* âœ… Always use `try...catch` around awaited Promises.
* âœ… Use `Promise.all` with `await` for parallel tasks.
* âœ… Keep async functions modular and reusable.
* âŒ Donâ€™t block long tasks sequentially if they can run in parallel.
* âœ… Use `await` only inside `async` functions (or top-level in modern JS).

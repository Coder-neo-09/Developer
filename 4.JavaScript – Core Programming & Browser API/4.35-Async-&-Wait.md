# ⏳ JavaScript `async` & `await`

---

## 📖 Definition

* `async` and `await` are **syntactic sugar** built on top of **Promises**.
* They make asynchronous code look and behave like **synchronous code**, improving **readability and maintainability**.

---

## 🔍 Key Points

| Keyword        | Description                                                                                    |
| -------------- | ---------------------------------------------------------------------------------------------- |
| **`async`**    | Declares a function that always returns a **Promise**.                                         |
| **`await`**    | Pauses execution inside an `async` function until the Promise is settled (fulfilled/rejected). |
| Error Handling | Works with `try...catch`.                                                                      |

---

## 🧱 1. Async Function

```javascript
async function greet() {
  return "Hello! 👋";
}

greet().then(msg => console.log(msg)); // "Hello! 👋"
```

✅ `async` automatically wraps the return value into a **Promise**.

---

## 🧱 2. Using `await`

```javascript
function delay(ms) {
  return new Promise(resolve => setTimeout(resolve, ms));
}

async function run() {
  console.log("⏳ Waiting...");
  await delay(2000); // pauses for 2s
  console.log("✅ Done after 2 seconds!");
}

run();
```

---

## 🧱 3. Async + Await with Fetch

```javascript
async function getUser() {
  let response = await fetch("https://jsonplaceholder.typicode.com/users/1");
  let user = await response.json();
  console.log("👤 User:", user.name);
}

getUser();
```

✅ Much cleaner than **promise chaining**.

---

## 🧱 4. Error Handling with `try...catch`

```javascript
async function fetchData() {
  try {
    let response = await fetch("https://invalid-url.com");
    let data = await response.json();
    console.log(data);
  } catch (error) {
    console.log("❌ Error caught:", error.message);
  }
}

fetchData();
```

---

## 🧱 5. Running Multiple Promises

```javascript
async function loadData() {
  let [posts, users] = await Promise.all([
    fetch("https://jsonplaceholder.typicode.com/posts/1").then(res => res.json()),
    fetch("https://jsonplaceholder.typicode.com/users/1").then(res => res.json())
  ]);

  console.log("📝 Post:", posts.title);
  console.log("👤 User:", users.name);
}

loadData();
```

✅ Runs both requests **in parallel**, not one after the other.

---

## 🌍 Real-World Example – Login Simulation

```javascript
function login(username, password) {
  return new Promise((resolve, reject) => {
    setTimeout(() => {
      if (username === "ramya" && password === "1234") {
        resolve("Welcome " + username + " 🎉");
      } else {
        reject("Invalid credentials ❌");
      }
    }, 1500);
  });
}

async function authenticate() {
  try {
    console.log("🔑 Logging in...");
    let msg = await login("ramya", "1234");
    console.log(msg);
  } catch (error) {
    console.log(error);
  }
}

authenticate();
```

✅ Output:

```
🔑 Logging in...
Welcome ramya 🎉
```

---

## ✅ Summary Table

| Concept                  | Description                                    |
| ------------------------ | ---------------------------------------------- |
| `async function`         | Returns a **Promise** automatically.           |
| `await promise`          | Waits until the promise resolves/rejects.      |
| Error handling           | Use `try...catch`.                             |
| `Promise.all` with await | Run tasks in parallel.                         |
| Cleaner than `.then()`   | Looks synchronous but is async under the hood. |

---

## 🧠 Best Practices

* ✅ Always use `try...catch` around awaited Promises.
* ✅ Use `Promise.all` with `await` for parallel tasks.
* ✅ Keep async functions modular and reusable.
* ❌ Don’t block long tasks sequentially if they can run in parallel.
* ✅ Use `await` only inside `async` functions (or top-level in modern JS).

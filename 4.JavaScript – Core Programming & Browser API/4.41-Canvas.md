# 🎨 JavaScript – The Canvas API

---

## 📖 Definition

The **HTML `<canvas>` element** provides a **drawing surface** that you can control using JavaScript.
With it, you can draw:

* 🖌 Shapes
* 🖼 Images
* 🎥 Animations
* 📊 Graphs & Charts

👉 Think of it as a **blank drawing board** where JavaScript is the brush.

---

## 🏗 Setting Up a Canvas

```html
<canvas id="myCanvas" width="400" height="300" style="border:1px solid black;"></canvas>
```

```javascript
let canvas = document.getElementById("myCanvas");
let ctx = canvas.getContext("2d"); // 2D rendering context
```

💡 `ctx` is the **context** that provides all drawing methods.

---

## ✏ Drawing Shapes

### 1. Rectangles

```javascript
ctx.fillStyle = "blue";
ctx.fillRect(50, 50, 100, 80); // x, y, width, height

ctx.strokeStyle = "red";
ctx.strokeRect(200, 50, 100, 80); // outlined rectangle
```

### 2. Lines

```javascript
ctx.beginPath();
ctx.moveTo(50, 200); // starting point
ctx.lineTo(200, 250); // ending point
ctx.stroke();
```

### 3. Circles (Arcs)

```javascript
ctx.beginPath();
ctx.arc(300, 150, 50, 0, Math.PI * 2); // x, y, radius, startAngle, endAngle
ctx.fillStyle = "green";
ctx.fill();
```

---

## 🖋 Text

```javascript
ctx.font = "20px Arial";
ctx.fillStyle = "purple";
ctx.fillText("Hello Canvas!", 100, 280);

ctx.strokeStyle = "black";
ctx.strokeText("Outlined Text", 100, 310);
```

---

## 🖼 Images

```html
<img id="myImg" src="https://via.placeholder.com/150" hidden>
```

```javascript
let img = document.getElementById("myImg");
img.onload = () => {
  ctx.drawImage(img, 50, 50, 150, 100);
};
```

---

## 🎥 Animations

Animations work by:

1. Clearing canvas
2. Redrawing shapes with updated position
3. Using `requestAnimationFrame()` for smooth looping

**Example – Moving Ball:**

```javascript
let x = 50;
let dx = 2;

function draw() {
  ctx.clearRect(0, 0, canvas.width, canvas.height); // clear canvas
  ctx.beginPath();
  ctx.arc(x, 150, 20, 0, Math.PI * 2);
  ctx.fillStyle = "orange";
  ctx.fill();
  ctx.closePath();

  x += dx;
  if (x > canvas.width - 20 || x < 20) dx = -dx; // bounce
  requestAnimationFrame(draw);
}

draw();
```

---

## 🌍 Real-World Example – Simple Chart

```javascript
let data = [100, 200, 150, 250, 300];
ctx.fillStyle = "teal";

data.forEach((value, i) => {
  ctx.fillRect(50 + i * 60, canvas.height - value, 40, value);
});
```

✅ Creates a **bar chart** with canvas rectangles.

---

## ✅ Summary

| Feature    | Example Function                            |
| ---------- | ------------------------------------------- |
| Rectangles | `fillRect()`, `strokeRect()`, `clearRect()` |
| Lines      | `moveTo()`, `lineTo()`, `stroke()`          |
| Circles    | `arc()`, `beginPath()`, `closePath()`       |
| Text       | `fillText()`, `strokeText()`                |
| Images     | `drawImage()`                               |
| Animation  | `requestAnimationFrame()`                   |

---

## 🧠 Best Practices

* Always call `beginPath()` before drawing new shapes.
* Use `clearRect()` before each animation frame.
* Keep canvas **resolution** (`width`, `height`) in sync with CSS styling.
* Use `requestAnimationFrame()` (not `setInterval`) for smooth animations.
* For complex projects, consider libraries like **Fabric.js**, **p5.js**, or **Three.js**.

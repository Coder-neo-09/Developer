# 🛠️ JavaScript – DOM Manipulation

---

## 📖 What is DOM Manipulation?

**DOM Manipulation** means using **JavaScript** to:

* Select elements
* Change their content, styles, or attributes
* Add, remove, or replace elements

👉 This is how web pages become **dynamic and interactive**.

---

## 🔎 1. Selecting Elements

We must first **select** an element before manipulating it.

```javascript
// By ID
let heading = document.getElementById("title");

// By class
let items = document.getElementsByClassName("item");

// By tag name
let paragraphs = document.getElementsByTagName("p");

// Modern way (CSS selectors)
let firstItem = document.querySelector(".item");
let allItems = document.querySelectorAll(".item");
```

✅ `querySelector` and `querySelectorAll` are the most flexible.

---

## ✏️ 2. Changing Content

```html
<h1 id="title">Old Title</h1>
```

```javascript
let heading = document.getElementById("title");

heading.textContent = "New Title";   // Changes text only
heading.innerHTML = "<em>New Title</em>"; // Can insert HTML
```

---

## 🎨 3. Changing Styles

```html
<p id="para">Hello World</p>
```

```javascript
let para = document.getElementById("para");

para.style.color = "blue";
para.style.fontSize = "20px";
para.style.backgroundColor = "yellow";
```

✅ Use **`.style`** for inline styles, or **`.classList`** to add/remove CSS classes.

```javascript
para.classList.add("highlight");
para.classList.remove("highlight");
para.classList.toggle("dark-mode");
```

---

## 🔧 4. Changing Attributes

```html
<img id="logo" src="old.png" alt="Logo">
```

```javascript
let logo = document.getElementById("logo");

// Get attribute
console.log(logo.getAttribute("src")); // old.png

// Set attribute
logo.setAttribute("src", "new.png");

// Remove attribute
logo.removeAttribute("alt");
```

---

## ➕ 5. Creating & Adding Elements

```javascript
let newDiv = document.createElement("div");
newDiv.textContent = "I am new here!";

// Append to body
document.body.appendChild(newDiv);

// Insert before another element
let body = document.body;
let firstChild = body.firstChild;
body.insertBefore(newDiv, firstChild);
```

---

## ❌ 6. Removing Elements

```html
<ul id="list">
  <li>Apple</li>
  <li>Banana</li>
</ul>
```

```javascript
let list = document.getElementById("list");
let banana = list.children[1];

// Remove Banana
list.removeChild(banana);

// OR modern way
banana.remove();
```

---

## 🔄 7. Replacing Elements

```javascript
let newItem = document.createElement("li");
newItem.textContent = "Mango";

let oldItem = list.children[0]; // Apple
list.replaceChild(newItem, oldItem);
```

✅ Output: List becomes → `Mango, Banana`

---

## 🌍 Real-World Example – Todo App

```html
<input id="taskInput" type="text" placeholder="New task">
<button id="addBtn">Add</button>
<ul id="tasks"></ul>
```

```javascript
let input = document.getElementById("taskInput");
let addBtn = document.getElementById("addBtn");
let taskList = document.getElementById("tasks");

addBtn.addEventListener("click", function() {
  let taskText = input.value;
  if (taskText === "") return;

  let li = document.createElement("li");
  li.textContent = taskText;

  // Add remove button
  let btn = document.createElement("button");
  btn.textContent = "❌";
  btn.addEventListener("click", () => li.remove());

  li.appendChild(btn);
  taskList.appendChild(li);

  input.value = "";
});
```

✅ A fully working **mini Todo List** using DOM manipulation.

---

## ✅ Summary

| Task              | Method                                   |
| ----------------- | ---------------------------------------- |
| Select elements   | `getElementById`, `querySelector`, etc.  |
| Change text/HTML  | `.textContent`, `.innerHTML`             |
| Change styles     | `.style`, `.classList`                   |
| Change attributes | `.getAttribute`, `.setAttribute`         |
| Create elements   | `document.createElement`, `.appendChild` |
| Remove elements   | `.removeChild`, `.remove()`              |
| Replace elements  | `.replaceChild`                          |

---

## 🧠 Best Practices

1. ✅ Use `textContent` instead of `innerHTML` (safer, prevents XSS).
2. ✅ Minimize **reflows** by manipulating DOM in batches (use `documentFragment`).
3. ✅ Use `classList` for styling instead of `.style`.
4. ✅ Keep DOM manipulation separate from **business logic**.
5. ✅ Always clean up unused nodes (remove event listeners).

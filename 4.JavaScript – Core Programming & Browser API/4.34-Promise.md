# ğŸ¤ JavaScript Promises

---

## ğŸ“– Definition

A **Promise** in JavaScript is an **object representing the eventual completion (or failure)** of an asynchronous operation.

It acts like a **placeholder** for a value that will be available in the future.

Think of it as a **"promise to deliver a value later"**.

---

## ğŸ” States of a Promise

A Promise has **three states**:

| State         | Meaning                                                         |
| ------------- | --------------------------------------------------------------- |
| **Pending**   | Initial state, neither fulfilled nor rejected.                  |
| **Fulfilled** | Operation completed successfully, returns a result (`resolve`). |
| **Rejected**  | Operation failed, returns a reason/error (`reject`).            |

---

## ğŸ§± 1. Creating a Promise

```javascript
let myPromise = new Promise((resolve, reject) => {
  let success = true;

  if (success) {
    resolve("ğŸ‰ Operation successful!");
  } else {
    reject("âŒ Operation failed!");
  }
});

myPromise
  .then(result => console.log(result))   // handle success
  .catch(error => console.log(error))   // handle failure
  .finally(() => console.log("âœ… Promise settled"));
```

---

## ğŸ§± 2. Promise with `setTimeout`

```javascript
let delay = new Promise((resolve) => {
  setTimeout(() => resolve("â³ Done after 2 seconds!"), 2000);
});

delay.then(msg => console.log(msg));
```

âœ… Output (after 2 seconds):

```
â³ Done after 2 seconds!
```

---

## ğŸ§± 3. Promise Chaining

```javascript
fetch("https://jsonplaceholder.typicode.com/posts/1")
  .then(response => response.json())
  .then(post => {
    console.log("Post Title:", post.title);
    return fetch("https://jsonplaceholder.typicode.com/users/" + post.userId);
  })
  .then(response => response.json())
  .then(user => console.log("Author:", user.name))
  .catch(error => console.log("Error:", error));
```

âœ… Promises allow **sequential async tasks**.

---

## ğŸ§± 4. Handling Errors

```javascript
let p = new Promise((resolve, reject) => {
  reject("Something went wrong!");
});

p.then(result => console.log(result))
 .catch(error => console.log("Error caught:", error));
```

---

## ğŸ§± 5. Promise.all â€“ Run in Parallel

```javascript
let p1 = Promise.resolve("ğŸ Apple");
let p2 = Promise.resolve("ğŸŒ Banana");
let p3 = Promise.resolve("ğŸ‡ Grapes");

Promise.all([p1, p2, p3]).then(values => {
  console.log(values); // ["ğŸ Apple", "ğŸŒ Banana", "ğŸ‡ Grapes"]
});
```

âœ… All promises must resolve; if one fails â†’ `catch` is triggered.

---

## ğŸ§± 6. Promise.race â€“ First to Finish

```javascript
let fast = new Promise(resolve => setTimeout(() => resolve("âš¡ Fast"), 1000));
let slow = new Promise(resolve => setTimeout(() => resolve("ğŸ¢ Slow"), 3000));

Promise.race([fast, slow]).then(value => console.log(value));
```

âœ… Output:

```
âš¡ Fast
```

---

## ğŸ§± 7. Promise.any â€“ First Successful

```javascript
let p1 = Promise.reject("âŒ Failed 1");
let p2 = Promise.resolve("âœ… Success!");
let p3 = Promise.reject("âŒ Failed 2");

Promise.any([p1, p2, p3])
  .then(result => console.log(result))   // âœ… Success!
  .catch(error => console.log(error));
```

âœ… Returns the **first fulfilled promise**, ignoring rejections.

---

## ğŸŒ Real-World Example â€“ Login Simulation

```javascript
function loginUser(username, password) {
  return new Promise((resolve, reject) => {
    setTimeout(() => {
      if (username === "ramya" && password === "1234") {
        resolve("Welcome, " + username + " ğŸ‰");
      } else {
        reject("Invalid credentials âŒ");
      }
    }, 2000);
  });
}

loginUser("ramya", "1234")
  .then(msg => console.log(msg))
  .catch(err => console.log(err));
```

âœ… Output (after 2 sec):

```
Welcome, ramya ğŸ‰
```

---

## âœ… Summary Table

| Method           | Description                                                   |
| ---------------- | ------------------------------------------------------------- |
| `new Promise()`  | Creates a promise with `resolve` and `reject`.                |
| `.then()`        | Handles success (fulfilled) result.                           |
| `.catch()`       | Handles errors (rejected).                                    |
| `.finally()`     | Runs after success or failure.                                |
| `Promise.all()`  | Runs multiple promises in parallel; fails if **any** rejects. |
| `Promise.race()` | Returns the first settled (fulfilled or rejected) promise.    |
| `Promise.any()`  | Returns the first **successful** promise; ignores rejections. |

---

## ğŸ§  Best Practices

* âœ… Always handle errors with `.catch()` or `try...catch`.
* âœ… Use `Promise.all` for parallel tasks (like multiple API calls).
* âœ… Use `Promise.any` when you need the first successful response.
* âŒ Avoid **callback hell** by using promise chaining.
* âœ… Prefer **async/await** with Promises for cleaner code.

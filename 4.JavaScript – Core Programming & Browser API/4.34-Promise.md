# 🤝 JavaScript Promises

---

## 📖 Definition

A **Promise** in JavaScript is an **object representing the eventual completion (or failure)** of an asynchronous operation.

It acts like a **placeholder** for a value that will be available in the future.

Think of it as a **"promise to deliver a value later"**.

---

## 🔍 States of a Promise

A Promise has **three states**:

| State         | Meaning                                                         |
| ------------- | --------------------------------------------------------------- |
| **Pending**   | Initial state, neither fulfilled nor rejected.                  |
| **Fulfilled** | Operation completed successfully, returns a result (`resolve`). |
| **Rejected**  | Operation failed, returns a reason/error (`reject`).            |

---

## 🧱 1. Creating a Promise

```javascript
let myPromise = new Promise((resolve, reject) => {
  let success = true;

  if (success) {
    resolve("🎉 Operation successful!");
  } else {
    reject("❌ Operation failed!");
  }
});

myPromise
  .then(result => console.log(result))   // handle success
  .catch(error => console.log(error))   // handle failure
  .finally(() => console.log("✅ Promise settled"));
```

---

## 🧱 2. Promise with `setTimeout`

```javascript
let delay = new Promise((resolve) => {
  setTimeout(() => resolve("⏳ Done after 2 seconds!"), 2000);
});

delay.then(msg => console.log(msg));
```

✅ Output (after 2 seconds):

```
⏳ Done after 2 seconds!
```

---

## 🧱 3. Promise Chaining

```javascript
fetch("https://jsonplaceholder.typicode.com/posts/1")
  .then(response => response.json())
  .then(post => {
    console.log("Post Title:", post.title);
    return fetch("https://jsonplaceholder.typicode.com/users/" + post.userId);
  })
  .then(response => response.json())
  .then(user => console.log("Author:", user.name))
  .catch(error => console.log("Error:", error));
```

✅ Promises allow **sequential async tasks**.

---

## 🧱 4. Handling Errors

```javascript
let p = new Promise((resolve, reject) => {
  reject("Something went wrong!");
});

p.then(result => console.log(result))
 .catch(error => console.log("Error caught:", error));
```

---

## 🧱 5. Promise.all – Run in Parallel

```javascript
let p1 = Promise.resolve("🍎 Apple");
let p2 = Promise.resolve("🍌 Banana");
let p3 = Promise.resolve("🍇 Grapes");

Promise.all([p1, p2, p3]).then(values => {
  console.log(values); // ["🍎 Apple", "🍌 Banana", "🍇 Grapes"]
});
```

✅ All promises must resolve; if one fails → `catch` is triggered.

---

## 🧱 6. Promise.race – First to Finish

```javascript
let fast = new Promise(resolve => setTimeout(() => resolve("⚡ Fast"), 1000));
let slow = new Promise(resolve => setTimeout(() => resolve("🐢 Slow"), 3000));

Promise.race([fast, slow]).then(value => console.log(value));
```

✅ Output:

```
⚡ Fast
```

---

## 🧱 7. Promise.any – First Successful

```javascript
let p1 = Promise.reject("❌ Failed 1");
let p2 = Promise.resolve("✅ Success!");
let p3 = Promise.reject("❌ Failed 2");

Promise.any([p1, p2, p3])
  .then(result => console.log(result))   // ✅ Success!
  .catch(error => console.log(error));
```

✅ Returns the **first fulfilled promise**, ignoring rejections.

---

## 🌍 Real-World Example – Login Simulation

```javascript
function loginUser(username, password) {
  return new Promise((resolve, reject) => {
    setTimeout(() => {
      if (username === "ramya" && password === "1234") {
        resolve("Welcome, " + username + " 🎉");
      } else {
        reject("Invalid credentials ❌");
      }
    }, 2000);
  });
}

loginUser("ramya", "1234")
  .then(msg => console.log(msg))
  .catch(err => console.log(err));
```

✅ Output (after 2 sec):

```
Welcome, ramya 🎉
```

---

## ✅ Summary Table

| Method           | Description                                                   |
| ---------------- | ------------------------------------------------------------- |
| `new Promise()`  | Creates a promise with `resolve` and `reject`.                |
| `.then()`        | Handles success (fulfilled) result.                           |
| `.catch()`       | Handles errors (rejected).                                    |
| `.finally()`     | Runs after success or failure.                                |
| `Promise.all()`  | Runs multiple promises in parallel; fails if **any** rejects. |
| `Promise.race()` | Returns the first settled (fulfilled or rejected) promise.    |
| `Promise.any()`  | Returns the first **successful** promise; ignores rejections. |

---

## 🧠 Best Practices

* ✅ Always handle errors with `.catch()` or `try...catch`.
* ✅ Use `Promise.all` for parallel tasks (like multiple API calls).
* ✅ Use `Promise.any` when you need the first successful response.
* ❌ Avoid **callback hell** by using promise chaining.
* ✅ Prefer **async/await** with Promises for cleaner code.

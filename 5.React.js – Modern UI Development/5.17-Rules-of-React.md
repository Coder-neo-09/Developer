# 📏 Rules of React

React enforces some **rules and best practices** to ensure components are predictable, reusable, and maintainable. These rules apply whether you’re using **class components** or **functional components with hooks**.

---

## 1️⃣ Rules of Hooks
Hooks are powerful, but they come with **strict rules**:

### ✅ Always Call Hooks at the Top Level
* Don’t call hooks inside **loops, conditions, or nested functions**.
* This ensures React can keep track of hooks in the **same order** during re-renders.

❌ Wrong:
```jsx
if (loggedIn) {
  const [user, setUser] = useState(null); // ❌ Invalid
}
```

✅ Correct:
```jsx
const [user, setUser] = useState(null);
if (loggedIn) {
  // logic here
}
```

---

### ✅ Only Call Hooks from React Functions
* Hooks can only be used in:
  * Functional components
  * Custom hooks

❌ Wrong:
```jsx
function doSomething() {
  const [count, setCount] = useState(0); // ❌ Invalid, not inside a component
}
```

✅ Correct:
```jsx
function MyComponent() {
  const [count, setCount] = useState(0);
  return <p>{count}</p>;
}
```

---

## 2️⃣ Component Rules
### 🔹 Components Must Be **Pure Functions**
* Same input (props) → same output (UI).
* No modifying external variables or global state directly.

❌ Wrong:
```jsx
let counter = 0;
function Counter() {
  counter++; // ❌ Side effect outside state
  return <p>{counter}</p>;
}
```

✅ Correct:
```jsx
function Counter() {
  const [count, setCount] = useState(0);
  return <button onClick={() => setCount(count + 1)}>{count}</button>;
}
```

---

### 🔹 Component Names Must Start with a Capital Letter
React treats lowercase names as **HTML tags**.

❌ Wrong:
```jsx
function button() {
  return <button>Click</button>;
}
```

✅ Correct:
```jsx
function Button() {
  return <button>Click</button>;
}
```

---

## 3️⃣ Props Rules
* Props are **read-only** → they cannot be modified inside components.

❌ Wrong:
```jsx
function Greeting(props) {
  props.name = "Alex"; // ❌ Cannot modify props
  return <h1>Hello {props.name}</h1>;
}
```

✅ Correct:
```jsx
function Greeting({ name }) {
  return <h1>Hello {name}</h1>;
}
```

---

## 4️⃣ State Rules
* State updates are **asynchronous**.
* Always use the **updater function** if the new state depends on the previous one.

❌ Wrong:
```jsx
setCount(count + 1);
setCount(count + 1); // ❌ Might not update correctly
```

✅ Correct:
```jsx
setCount((prev) => prev + 1);
setCount((prev) => prev + 1);
```

---

## 🏗 Real-World Example: Authentication Flow
```jsx
import React, { useState } from "react";

function LoginForm() {
  const [loggedIn, setLoggedIn] = useState(false);

  return (
    <div>
      {loggedIn ? (
        <h2>Welcome Back!</h2>
      ) : (
        <button onClick={() => setLoggedIn(true)}>Login</button>
      )}
    </div>
  );
}
```
✅ Follows rules: hooks at top level, pure component, proper state updates.

---

## ✅ Summary
✔ Hooks → only at the **top level** of React functions.  
✔ Components → pure, reusable, and named with **Capital letters**.  
✔ Props → read-only.  
✔ State → updated using **setState functions** properly.  
✔ Following these rules prevents **bugs, unpredictable behavior, and re-render issues**.

---
